# æµ‹è¯•æŒ‡å—æ€»è§ˆ | Testing Guide Overview

## ğŸ¯ æµ‹è¯•æ–¹æ³•

### å¿«é€Ÿæµ‹è¯• (æ¨èæ—¥å¸¸å¼€å‘)
```bash
# è‡ªåŠ¨åŒ–æµ‹è¯• - 30ç§’å¿«é€ŸéªŒè¯
./autotest.sh fast auto

# æ‰‹åŠ¨æµ‹è¯• - å®Œæ•´åŠŸèƒ½æµ‹è¯•
./autotest.sh normal manual

# æ–‡ä»¶ç›‘æ§ - è‡ªåŠ¨æ£€æµ‹å˜åŒ–å¹¶æµ‹è¯•
./watch-and-test.sh
```

### Windowsç›´æ¥æµ‹è¯•
```cmd
# æœ€ç®€å• - åŒå‡»å³å¯
quick-test-windows.cmd

# æœ‰èœå•é€‰é¡¹
test-veterancy.cmd
```

---

## ğŸ“‹ æµ‹è¯•å·¥å…·å¯¹æ¯”

| å·¥å…· | å¹³å° | ç”¨é€” | è‡ªåŠ¨åŒ– |
|------|------|------|--------|
| `autotest.sh` | WSL | å®Œæ•´è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹ | âœ… |
| `watch-and-test.sh` | WSL | ç›‘æ§æ–‡ä»¶è‡ªåŠ¨æµ‹è¯• | âœ… |
| `analyze-test.sh` | WSL | åˆ†ææµ‹è¯•æ—¥å¿— | âŒ |
| `quick-test-windows.cmd` | Windows | å¿«é€Ÿå¯åŠ¨æµ‹è¯• | âŒ |
| `test-veterancy.cmd` | Windows | äº¤äº’å¼æµ‹è¯•èœå• | âŒ |

---

## ğŸ”„ æµ‹è¯•å·¥ä½œæµ

### å¼€å‘ä¸­å¿«é€ŸéªŒè¯
```bash
# 1. ä¿®æ”¹é…ç½®
vim mods/ra2/rules/allied-infantry.yaml

# 2. è‡ªåŠ¨æµ‹è¯•
./autotest.sh fast auto

# 3. æŸ¥çœ‹ç»“æœ
./analyze-test.sh
```

### å®Œæ•´åŠŸèƒ½æµ‹è¯•
```bash
# æ‰‹åŠ¨æ·±åº¦æµ‹è¯•
./autotest.sh normal manual

# åœ¨æ¸¸æˆä¸­å……åˆ†æµ‹è¯•åæŒ‰Enter
# è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
```

### æŒç»­å¼€å‘æ¨¡å¼
```bash
# ç»ˆç«¯1: å¯åŠ¨ç›‘æ§
./watch-and-test.sh

# ç»ˆç«¯2: ç¼–è¾‘æ–‡ä»¶
vim mods/ra2/rules/...
# ä¿å­˜åè‡ªåŠ¨è§¦å‘æµ‹è¯•
```

---

## ğŸ® å•ä½å‡çº§æµ‹è¯•

### å¿«é€Ÿå‡çº§æ¨¡å¼
```yaml
# ç¼–è¾‘å•ä½é…ç½®
E1:
  Inherits@3: ^GainsExperienceFast  # å¿«é€Ÿæ¨¡å¼
```

å‡»æ€1-2ä¸ªå•ä½å³å¯å‡æ»¡çº§,é€‚åˆå¿«é€ŸéªŒè¯å‡çº§ç³»ç»Ÿã€‚

### ç»éªŒéœ€æ±‚å¯¹æ¯”
| ç­‰çº§ | æ­£å¸¸æ¨¡å¼ | å¿«é€Ÿæ¨¡å¼ |
|------|---------|---------|
| 1 | 500 XP | 10 XP |
| 5 | 4000 XP | 50 XP |
| 10 | 14000 XP | 100 XP |

æµ‹è¯•å®Œæˆåè®°å¾—æ”¹å› `^GainsExperience`

---

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

### è‡ªåŠ¨ç”Ÿæˆçš„æŠ¥å‘Š
```
test-logs/
â”œâ”€â”€ test_20250123_143022.log          # æµ‹è¯•æŠ¥å‘Š
â”œâ”€â”€ ra2_before_20250123_143022.log    # æµ‹è¯•å‰æ—¥å¿—
â””â”€â”€ ra2_after_20250123_143022.log     # æµ‹è¯•åæ—¥å¿—
```

### æŸ¥çœ‹æŠ¥å‘Š
```bash
# åˆ†ææœ€æ–°æ—¥å¿—
./analyze-test.sh

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -100 test-logs/ra2_after_*.log

# æœç´¢é”™è¯¯
grep -i error test-logs/ra2_after_*.log
```

---

## âœ… æµ‹è¯•æ¸…å•

### åŸºç¡€æµ‹è¯•
- [ ] æ¸¸æˆæ­£å¸¸å¯åŠ¨
- [ ] é…ç½®æ–‡ä»¶æ— è¯­æ³•é”™è¯¯
- [ ] å•ä½å¯æ­£å¸¸å»ºé€ 
- [ ] æ— å´©æºƒå’Œä¸¥é‡é”™è¯¯

### å‡çº§ç³»ç»Ÿæµ‹è¯•
- [ ] å•ä½å¯è·å¾—ç»éªŒ
- [ ] å‡çº§å›¾æ ‡æ­£ç¡®æ˜¾ç¤º
- [ ] å±æ€§åŠ æˆç”Ÿæ•ˆ
- [ ] å‡çº§éŸ³æ•ˆ/ç‰¹æ•ˆæ­£å¸¸
- [ ] æ‰€æœ‰10ä¸ªç­‰çº§å¯è¾¾åˆ°

### å¹³è¡¡æ€§æµ‹è¯•
- [ ] å•ä½å¼ºåº¦åˆç†
- [ ] å‡çº§é€Ÿåº¦é€‚ä¸­
- [ ] é«˜ç­‰çº§å•ä½ä¸è¿‡äºå¼ºå¤§
- [ ] å„é˜µè¥å¹³è¡¡

---

## ğŸ› å¸¸è§é—®é¢˜

### æ¸¸æˆæ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥è·¯å¾„
pwd  # åº”æ˜¾ç¤º /mnt/g/workspace/ra2

# æ£€æŸ¥æ–‡ä»¶
ls -l launch-game.cmd

# æŸ¥çœ‹æ—¥å¿—
tail -50 ~/.config/openra/Logs/ra2.log
```

### é…ç½®ä¸ç”Ÿæ•ˆ
```bash
# éªŒè¯YAMLè¯­æ³•
grep -A 5 "E1:" mods/ra2/rules/allied-infantry.yaml

# æ£€æŸ¥ç¼©è¿›
cat -A mods/ra2/rules/allied-infantry.yaml | head -50
```

### å‡çº§ä¸å·¥ä½œ
```bash
# æ£€æŸ¥æ˜¯å¦ç»§æ‰¿å‡çº§æ¨¡æ¿
grep "GainsExperience" mods/ra2/rules/*.yaml

# æŸ¥çœ‹æ¸¸æˆæ—¥å¿—ä¸­çš„ç»éªŒç›¸å…³ä¿¡æ¯
grep -i "experience\|rank" ~/.config/openra/Logs/ra2.log
```

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- `automated-testing.md` - è‡ªåŠ¨åŒ–æµ‹è¯•è¯¦è§£
- `veterancy-testing.md` - å‡çº§ç³»ç»Ÿæµ‹è¯•
- `../development/workflow.md` - å¼€å‘å·¥ä½œæµ

---

## ğŸ’¡ æµ‹è¯•æŠ€å·§

### å¿«é€Ÿè¿­ä»£
```bash
# ä½¿ç”¨æ–‡ä»¶ç›‘æ§,ä¿å­˜å³æµ‹è¯•
./watch-and-test.sh
```

### æ‰¹é‡æµ‹è¯•
```bash
# æµ‹è¯•å¤šç§é…ç½®
for mode in fast normal; do
  ./autotest.sh $mode auto
  sleep 5
done
```

### æ—¥å¿—è¿‡æ»¤
```bash
# åªçœ‹é”™è¯¯
./analyze-test.sh | grep -i error

# æŸ¥çœ‹ç‰¹å®šå•ä½
tail -f ~/.config/openra/Logs/ra2.log | grep "E1"
```

---

**å……åˆ†æµ‹è¯•,ä¿è¯è´¨é‡!** âœ…
